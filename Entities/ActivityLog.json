{
  "name": "ActivityLog",
  "type": "object",
  "properties": {
    "userEmail": {
      "type": "string",
      "description": "Email of user who performed the action"
    },
    "action": {
      "type": "string",
      "enum": [
        "trial_request_submitted",
        "trial_approved",
        "trial_rejected",
        "trial_converted",
        "api_access_requested",
        "api_access_approved",
        "api_access_rejected",
        "code_scan_performed",
        "scan_results_viewed",
        "user_login",
        "user_invited",
        "admin_action"
      ],
      "description": "Type of action performed"
    },
    "details": {
      "type": "object",
      "description": "Additional details about the action"
    },
    "ipAddress": {
      "type": "string",
      "description": "IP address of the user"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "Exact timestamp of the action"
    }
  },
  "required": [
    "userEmail",
    "action",
    "timestamp"
  ],
  "security": {
    "create": "auth.role == 'user' || auth.role == 'admin'",
    "read": "auth.role == 'admin'",
    "update": "auth.role == 'admin'",
    "delete": "auth.role == 'admin'"
  }
}